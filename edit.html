<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Teachy Witchy Player — Настройки</title>
  <style>
    body {
      font-family: system-ui, sans-serif;
      background: #0a0014;
      color: #eee;
      padding: 20px;
    }
    label {
      display: block;
      margin: 10px 0;
    }
    input[type="text"] {
      width: 100%;
      padding: 10px;
      border-radius: 8px;
      border: 1px solid #b84cff;
      background: #1a0028;
      color: #eee;
    }
    button {
      margin-top: 15px;
      padding: 10px 20px;
      background: #b84cff;
      border: none;
      border-radius: 8px;
      color: #fff;
      cursor: pointer;
    }
    iframe {
      margin-top: 20px;
      width: 100%;
      height: 400px;
      border: none;
      border-radius: 12px;
    }
  </style>
</head>
<body>
  <h2>Teachy Witchy Player ✨</h2>
  <label for="link">Ссылка с Яндекс.Диска:</label>
  <input type="text" id="link" placeholder="https://disk.yandex.ru/i/...">

  <label><input type="checkbox" id="hideUI"> Спрятать интерфейс</label>
  <label><input type="checkbox" id="loop"> Зациклить видео</label>
  <label><input type="checkbox" id="sound"> Включить звук</label>
  <label><input type="checkbox" id="autoplay" checked> Автопроигрывание</label>

  <button onclick="generate()">Показать видео</button>

  <div id="preview"></div>

  <script>
    function generate() {
      const link = encodeURIComponent(document.getElementById('link').value);
      const hideUI = document.getElementById('hideUI').checked ? 1 : 0;
      const loop = document.getElementById('loop').checked ? 1 : 0;
      const sound = document.getElementById('sound').checked ? 1 : 0;
      const autoplay = document.getElementById('autoplay').checked ? 1 : 0;

      const iframe = `<iframe src="main.html?publicLink=${link}&hideUI=${hideUI}&loop=${loop}&sound=${sound}&autoplay=${autoplay}" allow="autoplay" width="100%" height="400" frameborder="0"></iframe>`;
      document.getElementById('preview').innerHTML = iframe;
    }
  </script>
</body>
</html>
